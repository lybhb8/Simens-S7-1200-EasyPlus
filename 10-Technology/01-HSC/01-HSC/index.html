<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="西门子 S7-1200 PLC 技术参考,Ver4.3"><meta name=author content="Frank Lin"><link rel=icon href=../../../assets/images/favicon.ico><meta name=generator content="mkdocs-1.6.0, mkdocs-material-9.5.30"><title>01 HSC - S7-1200PLC技术手册 - EasyPlus</title><link rel=stylesheet href=../../../assets/stylesheets/main.3cba04c6.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config",""),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><link rel=stylesheet href=../../../assets/stylesheets/custom.7c86dd97.min.css></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#s7-1200 class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <button class="md-banner__button md-icon" aria-label="Don't show this again"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> Focus <strong>@lybhb8</strong> on <a rel=me href=https://blowmoldingshare.cn> <span class="twemoji mastodon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M446.6 222.7c-1.8-8-6.8-15.4-12.5-18.5-1.8-1-13-2.2-25-2.7-20.1-.9-22.3-1.3-28.7-5-10.1-5.9-12.8-12.3-12.9-29.5-.1-33-13.8-63.7-40.9-91.3-19.3-19.7-40.9-33-65.5-40.5-5.9-1.8-19.1-2.4-63.3-2.9-69.4-.8-84.8.6-108.4 10C45.9 59.5 14.7 96.1 3.3 142.9 1.2 151.7.7 165.8.2 246.8c-.6 101.5.1 116.4 6.4 136.5 15.6 49.6 59.9 86.3 104.4 94.3 14.8 2.7 197.3 3.3 216 .8 32.5-4.4 58-17.5 81.9-41.9 17.3-17.7 28.1-36.8 35.2-62.1 4.9-17.6 4.5-142.8 2.5-151.7zm-322.1-63.6c7.8-7.9 10-8.2 58.8-8.2 43.9 0 45.4.1 51.8 3.4 9.3 4.7 13.4 11.3 13.4 21.9 0 9.5-3.8 16.2-12.3 21.6-4.6 2.9-7.3 3.1-50.3 3.3-26.5.2-47.7-.4-50.8-1.2-16.6-4.7-22.8-28.5-10.6-40.8zm191.8 199.8-14.9 2.4-77.5.9c-68.1.8-87.3-.4-90.9-2-7.1-3.1-13.8-11.7-14.9-19.4-1.1-7.3 2.6-17.3 8.2-22.4 7.1-6.4 10.2-6.6 97.3-6.7 89.6-.1 89.1-.1 97.6 7.8 12.1 11.3 9.5 31.2-4.9 39.4z"/></svg> </span> <strong>BlowMolding</strong> </a> and <a href=https://github.com/lybhb8> <span class="twemoji twitter"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg> </span> <strong>Github</strong> </a> </div> <script>var content,el=document.querySelector("[data-md-component=announce]");el&&(content=el.querySelector(".md-typeset"),__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0))</script> </aside> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title="S7-1200PLC技术手册 - EasyPlus" class="md-header__button md-logo" aria-label="S7-1200PLC技术手册 - EasyPlus" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z /> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"/> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z /> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"/> </svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> S7-1200PLC技术手册 - EasyPlus </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 01 HSC </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8v2m9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.71-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=indigo aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5M7 15a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/lybhb8/S7-1200-EasyPlus/tree/main title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> lybhb8/S7-1200-EasyPlus </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> 基础综述 </a> </li> <li class=md-tabs__item> <a href=../../../07-Program/install/ class=md-tabs__link> 组态编程 </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="S7-1200PLC技术手册 - EasyPlus" class="md-nav__button md-logo" aria-label="S7-1200PLC技术手册 - EasyPlus" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z /> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"/> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z /> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"/> </svg> </a> S7-1200PLC技术手册 - EasyPlus </label> <div class=md-nav__source> <a href=https://github.com/lybhb8/S7-1200-EasyPlus/tree/main title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> lybhb8/S7-1200-EasyPlus </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_1> <div class="md-nav__link md-nav__container"> <a href=../../.. class="md-nav__link "> <span class=md-ellipsis> 基础综述 </span> </a> <label class="md-nav__link " for=__nav_1 id=__nav_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> 基础综述 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../introduction/ class=md-nav__link> <span class=md-ellipsis> S7-1200简介 </span> </a> </li> <li class=md-nav__item> <a href=../../../source/ class=md-nav__link> <span class=md-ellipsis> 网络资源 </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_1_4> <div class="md-nav__link md-nav__container"> <a href=../../../hardware/ class="md-nav__link "> <span class=md-ellipsis> S7-1200硬件 </span> </a> <label class="md-nav__link " for=__nav_1_4 id=__nav_1_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_1_4_label aria-expanded=false> <label class=md-nav__title for=__nav_1_4> <span class="md-nav__icon md-icon"></span> S7-1200硬件 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../specifications/parameters/ class=md-nav__link> <span class=md-ellipsis> 参数总汇 </span> </a> </li> <li class=md-nav__item> <a href=../../../specifications/feature/ class=md-nav__link> <span class=md-ellipsis> 性能参数V4.0 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_1_5> <div class="md-nav__link md-nav__container"> <a href=../../../04-version/ class="md-nav__link "> <span class=md-ellipsis> S7-1200版本 </span> </a> <label class="md-nav__link " for=__nav_1_5 id=__nav_1_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_1_5_label aria-expanded=false> <label class=md-nav__title for=__nav_1_5> <span class="md-nav__icon md-icon"></span> S7-1200版本 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../04-version/02-Version/question/ class=md-nav__link> <span class=md-ellipsis> CPU 固件常见问题 </span> </a> </li> <li class=md-nav__item> <a href=../../../04-version/02-Version/S7-1200_V4.6/ class=md-nav__link> <span class=md-ellipsis> PLC V4.6 简介 </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_1_5_4> <div class="md-nav__link md-nav__container"> <a href=../../../04-version/03-firmware_update/ class="md-nav__link "> <span class=md-ellipsis> 固件升级 </span> </a> <label class="md-nav__link " for=__nav_1_5_4 id=__nav_1_5_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_1_5_4_label aria-expanded=false> <label class=md-nav__title for=__nav_1_5_4> <span class="md-nav__icon md-icon"></span> 固件升级 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../04-version/03-firmware_update/firmware/ class=md-nav__link> <span class=md-ellipsis> CPU固件 </span> </a> </li> <li class=md-nav__item> <a href=../../../04-version/03-firmware_update/firmware1/ class=md-nav__link> <span class=md-ellipsis> 模块固件 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> 组态编程 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> 组态编程 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../07-Program/install/ class=md-nav__link> <span class=md-ellipsis> STEP7 V18 安装 </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_2> <div class="md-nav__link md-nav__container"> <a href=../../../07-Program/01-operation/ class="md-nav__link "> <span class=md-ellipsis> TIA Portal组态软件操作 </span> </a> <label class="md-nav__link " for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> TIA Portal组态软件操作 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../07-Program/01-operation/01-New_Project/ class=md-nav__link> <span class=md-ellipsis> 新建项目 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/01-operation/02-CPU_Properties/ class=md-nav__link> <span class=md-ellipsis> CPU参数配置 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/01-operation/03-ConfigFAQ/ class=md-nav__link> <span class=md-ellipsis> 常见问题FAQ </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/01-operation/04-Download/ class=md-nav__link> <span class=md-ellipsis> 项目下载 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/01-operation/05-download_run/ class=md-nav__link> <span class=md-ellipsis> 运行下载 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/01-operation/06-detect_hardware/ class=md-nav__link> <span class=md-ellipsis> 硬件检测 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/01-operation/07-upload_program/ class=md-nav__link> <span class=md-ellipsis> 上载程序 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/01-operation/08-upload_station/ class=md-nav__link> <span class=md-ellipsis> 上载站点 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/01-operation/09-upload_compatibility/ class=md-nav__link> <span class=md-ellipsis> 上传时版本的兼容性 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/01-operation/10-update/ class=md-nav__link> <span class=md-ellipsis> 项目升级 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/01-operation/11-Program_Update/ class=md-nav__link> <span class=md-ellipsis> 程序升级 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_3> <div class="md-nav__link md-nav__container"> <a href=../../../07-Program/02-basic/ class="md-nav__link "> <span class=md-ellipsis> 编程基础 </span> </a> <label class="md-nav__link " for=__nav_2_3 id=__nav_2_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> 编程基础 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_3_2> <div class="md-nav__link md-nav__container"> <a href=../../../07-Program/02-basic/01-Data_Type/ class="md-nav__link "> <span class=md-ellipsis> 数据类型 </span> </a> <label class="md-nav__link " for=__nav_2_3_2 id=__nav_2_3_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3_2> <span class="md-nav__icon md-icon"></span> 数据类型 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../07-Program/02-basic/01-Data_Type/01-basic/ class=md-nav__link> <span class=md-ellipsis> 基本数据 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/02-basic/01-Data_Type/02-Struct/ class=md-nav__link> <span class=md-ellipsis> 结构数据Struct </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/02-basic/01-Data_Type/03-UDT/ class=md-nav__link> <span class=md-ellipsis> UDT </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/02-basic/01-Data_Type/04-Array/ class=md-nav__link> <span class=md-ellipsis> 数组 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/02-basic/01-Data_Type/05-SDT/ class=md-nav__link> <span class=md-ellipsis> 系统数据SDT </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/02-basic/01-Data_Type/06-hardware/ class=md-nav__link> <span class=md-ellipsis> 硬件数据 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/02-basic/01-Data_Type/07-Variant/ class=md-nav__link> <span class=md-ellipsis> Variant </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/02-basic/01-Data_Type/08-DB_ANY/ class=md-nav__link> <span class=md-ellipsis> DB_ANY </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/02-basic/01-Data_Type/09-String/ class=md-nav__link> <span class=md-ellipsis> 字符String </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/02-basic/01-Data_Type/10-WString/ class=md-nav__link> <span class=md-ellipsis> 宽字符WString </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/02-basic/01-Data_Type/11-DTL/ class=md-nav__link> <span class=md-ellipsis> 时间数据DTL </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_3_3> <label class=md-nav__link for=__nav_2_3_3 id=__nav_2_3_3_label tabindex=0> <span class=md-ellipsis> 组织块 OB </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3_3> <span class="md-nav__icon md-icon"></span> 组织块 OB </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../07-Program/02-basic/02-OB/01-intro/ class=md-nav__link> <span class=md-ellipsis> 组织块 OB简介 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/02-basic/02-OB/02-OB1/ class=md-nav__link> <span class=md-ellipsis> 程序循环 OB1 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/02-basic/02-OB/03-OB20/ class=md-nav__link> <span class=md-ellipsis> 延时中断 OB20 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/02-basic/02-OB/04-OB30/ class=md-nav__link> <span class=md-ellipsis> 循环中断 OB30 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/02-basic/02-OB/05-OB40/ class=md-nav__link> <span class=md-ellipsis> 硬件中断 OB40 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/02-basic/02-OB/06-OB80/ class=md-nav__link> <span class=md-ellipsis> 时间错误 OB80 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/02-basic/02-OB/07-OB82/ class=md-nav__link> <span class=md-ellipsis> 诊断错误 OB82 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/02-basic/02-OB/08-OB100/ class=md-nav__link> <span class=md-ellipsis> 启动 OB100 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/02-basic/02-OB/09-OB10/ class=md-nav__link> <span class=md-ellipsis> 时间中断 OB10 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/02-basic/02-OB/10-OB83/ class=md-nav__link> <span class=md-ellipsis> 插拔中断 OB83 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/02-basic/02-OB/11-OB86/ class=md-nav__link> <span class=md-ellipsis> 机架或站故障 OB86 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_3_4> <div class="md-nav__link md-nav__container"> <a href=../../../07-Program/02-basic/03-Block/ class="md-nav__link "> <span class=md-ellipsis> FC功能、FB功能块 </span> </a> <label class="md-nav__link " for=__nav_2_3_4 id=__nav_2_3_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3_4> <span class="md-nav__icon md-icon"></span> FC功能、FB功能块 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../07-Program/02-basic/03-Block/01-FC/ class=md-nav__link> <span class=md-ellipsis> FC功能 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/02-basic/03-Block/02-DB/ class=md-nav__link> <span class=md-ellipsis> DB数据块 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/02-basic/03-Block/03-DB_Snapshots/ class=md-nav__link> <span class=md-ellipsis> DB快照功能 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/02-basic/03-Block/04-FB/ class=md-nav__link> <span class=md-ellipsis> FB功能块 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_4> <div class="md-nav__link md-nav__container"> <a href=../../../07-Program/03-instruction/ class="md-nav__link "> <span class=md-ellipsis> 编程指令 </span> </a> <label class="md-nav__link " for=__nav_2_4 id=__nav_2_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> 编程指令 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_4_2> <div class="md-nav__link md-nav__container"> <a href=../../../07-Program/03-instruction/01-Basic/ class="md-nav__link "> <span class=md-ellipsis> 基础指令 </span> </a> <label class="md-nav__link " for=__nav_2_4_2 id=__nav_2_4_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4_2> <span class="md-nav__icon md-icon"></span> 基础指令 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../07-Program/03-instruction/01-Basic/08-bit/ class=md-nav__link> <span class=md-ellipsis> 位逻辑指令 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/03-instruction/01-Basic/09-set/ class=md-nav__link> <span class=md-ellipsis> 置位和复位指令 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/03-instruction/01-Basic/07-Edge/ class=md-nav__link> <span class=md-ellipsis> 上升沿和下降沿 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/03-instruction/01-Basic/01-TIMER/ class=md-nav__link> <span class=md-ellipsis> 定时器 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/03-instruction/01-Basic/02-COUNTER/ class=md-nav__link> <span class=md-ellipsis> 计数器 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/03-instruction/01-Basic/03-Compare_Variant/ class=md-nav__link> <span class=md-ellipsis> 比较指令 </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_4_2_8> <div class="md-nav__link md-nav__container"> <a href=../../../07-Program/03-instruction/01-Basic/04-Move/ class="md-nav__link "> <span class=md-ellipsis> 移动操作 </span> </a> <label class="md-nav__link " for=__nav_2_4_2_8 id=__nav_2_4_2_8_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_4_2_8_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4_2_8> <span class="md-nav__icon md-icon"></span> 移动操作 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../07-Program/03-instruction/01-Basic/04-Move/01-MOVE/ class=md-nav__link> <span class=md-ellipsis> MOVE系列 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/03-instruction/01-Basic/04-Move/02-DeserializeSerialize/ class=md-nav__link> <span class=md-ellipsis> 序列化 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/03-instruction/01-Basic/04-Move/03-FILL_BLK/ class=md-nav__link> <span class=md-ellipsis> FILL_BLK </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/03-instruction/01-Basic/04-Move/04-SCATTERGATHER/ class=md-nav__link> <span class=md-ellipsis> 位序列的组合与分解 </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/03-instruction/01-Basic/04-Move/05-MOVE_Variant/ class=md-nav__link> <span class=md-ellipsis> 移动操作-Variant </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_4_2_9> <label class=md-nav__link for=__nav_2_4_2_9 id=__nav_2_4_2_9_label tabindex=0> <span class=md-ellipsis> 程序控制 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_4_2_9_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4_2_9> <span class="md-nav__icon md-icon"></span> 程序控制 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../07-Program/03-instruction/01-Basic/05-Program_Control/01-GetError_GetErrorID/ class=md-nav__link> <span class=md-ellipsis> GetError </span> </a> </li> <li class=md-nav__item> <a href=../../../07-Program/03-instruction/01-Basic/05-Program_Control/02-RUNTIME/ class=md-nav__link> <span class=md-ellipsis> RUNTIME </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#s7-1200 class=md-nav__link> <span class=md-ellipsis> S7-1200 高速计数器 </span> </a> </li> <li class=md-nav__item> <a href=#r class=md-nav__link> <span class=md-ellipsis> []{#r}资源 </span> </a> </li> <li class=md-nav__item> <a href=#a class=md-nav__link> <span class=md-ellipsis> []{#a}基础使用 </span> </a> </li> <li class=md-nav__item> <a href=#e class=md-nav__link> <span class=md-ellipsis> []{#e}指令编程 </span> </a> <nav class=md-nav aria-label=[]{#e}指令编程> <ul class=md-nav__list> <li class=md-nav__item> <a href=#b class=md-nav__link> <span class=md-ellipsis> []{#b}指令基本介绍 </span> </a> </li> <li class=md-nav__item> <a href=#cctrl_hsc_ext- class=md-nav__link> <span class=md-ellipsis> []{#c}CTRL_HSC_EXT 指令-计数实现举例 </span> </a> </li> <li class=md-nav__item> <a href=#fctrl_hsc_ext- class=md-nav__link> <span class=md-ellipsis> []{#f}CTRL_HSC_EXT 指令-频率测量实现举例 </span> </a> </li> <li class=md-nav__item> <a href=#pctrl_hsc_ext- class=md-nav__link> <span class=md-ellipsis> []{#p}CTRL_HSC_EXT 指令-周期测量实现举例 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#o class=md-nav__link> <span class=md-ellipsis> []{#o}其他功能 </span> </a> <nav class=md-nav aria-label=[]{#o}其他功能> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_1 class=md-nav__link> <span class=md-ellipsis> 门功能 </span> </a> </li> <li class=md-nav__item> <a href=#s class=md-nav__link> <span class=md-ellipsis> []{#s}同步功能 </span> </a> </li> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 捕捉功能 </span> </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 比较功能 </span> </a> </li> <li class=md-nav__item> <a href=#d class=md-nav__link> <span class=md-ellipsis> []{#d}事件组态 </span> </a> </li> <li class=md-nav__item> <a href=#m class=md-nav__link> <span class=md-ellipsis> []{#m}修改参数 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/lybhb8/S7-1200-EasyPlus/tree/main/edit/master/docs/10-Technology/01-HSC/01-HSC.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg> </a> <a href=https://github.com/lybhb8/S7-1200-EasyPlus/tree/main/raw/master/docs/10-Technology/01-HSC/01-HSC.md title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg> </a> <h1>01 HSC</h1> <h3 id=s7-1200>S7-1200 高速计数器<a class=headerlink href=#s7-1200 title="Permanent link">&para;</a></h3> <p>本文将从几部分阐述 S7-1200 最新版固件（V4.2 版本及以后）的高速计数器资源及功能，链接如下：</p> <p><a href=01-HSC.html#r>资源</a></p> <p><a href=01-HSC.html#a>基础使用</a></p> <p><a href=01-HSC.html#e>指令编程</a></p> <p><a href=01-HSC.html#o>其他功能</a></p> <h3 id=r>[]{#r}资源<a class=headerlink href=#r title="Permanent link">&para;</a></h3> <p>S7-1200 CPU 本体提供了最多 6 路高速计数器，其独立于 CPU 的扫描周期进行计数。其中 CPU1217C 可测量的脉冲频率最高为 1 MHz（差分信号），其它型号的 S7-1200 CPU 可测量到的单相脉冲频率最高为 100 kHz，A/B 相最高为 80 kHz。如果使用信号板还可以测量单相脉冲频率高达 200kHz 的信号，A/B 相最高为 160 kHz。</p> <p>S7-1200 CPU 和信号板具有可组态的硬件输入地址，因此可测量到的高速计数器频率与高速计数器号无关，而与所使用的 CPU 和信号板的硬件输入地址有关。</p> <p>表 1 和表 2 显示了 CPU 集成输入点与信号板可用于高速计数器的信息。</p> <hr> <p><strong>CPU</strong> <strong>CPU 输入通道</strong> <strong>单相或两相模式</strong> <strong>A/B 相正交模式</strong> CPU1211C Ia.0---Ia.5 100 kHz 80 kHz CPU1212(F)C Ia.0---Ia.5 100 kHz 80 kHz Ia.6---Ia.7 30 kHz 20 kHz CPU1214(F)C、CPU1215(F)C Ia.0---Ia.5 100 kHz 80 kHz Ia.6---Ib.5 30 kHz 20 kHz CPU1217C Ia.0---Ia.5 100 kHz 80 kHz Ia.6---Ib.1 30 kHz 20 kHz Ib.2---Ib.5 (Ib.2+,Ib.2- 到 Ib.5+,Ib.5-） 1 MHz 1 MHz</p> <hr> <p>表 1. CPU 集成点输入的最大频率</p> <hr> <p>信号板类型 订货号 <strong>信号板输入通道</strong> <strong>单相或两相模式</strong> <strong>A/B 相正交模式</strong> DI 4×24VDC 6ES7221-3BD30-0XB0 Ie.0---Ie.3 200 kHz 160 kHz 4×5VDC 6ES7221-3AD30-0XB0 Ie.0---Ie.3 200 kHz 160 kHz DI/DQ 2DI/2×24VDC 6ES7223-0BD30-0XB0 Ie.0---Ie.1 30 kHz 20 kHz 2DI/2×24VDC 6ES7223-3BD30-0XB0 Ie.0---Ie.1 200 kHz 160 kHz 2DI/2×5VDC 6ES7223-3AD30-0XB0 Ie.0---Ie.1 200 kHz 160 kHz</p> <hr> <p>表 2. 信号板信息</p> <p><img alt height=15 src=../images/4.gif width=15>表 2 中的 5V 信号都是集电极开路信号，不是 5V 差分信号。</p> <p><img alt src=../images/4.gif>{width="15" height="15"}高速计数器所需要的同步输入、硬件门、捕捉输入、比较输出只能使用本体或者信号板的输入输出点。</p> <p><img alt src=../images/4.gif>{width="15" height="15"}如果希望使用更多的高速计数器，或者连接 SSI 绝对值编码器，可以通过分布式的方式扩展例如 ET200SP 的高速计数器模块，这种方式不占用 S7-1200 高速计数器任何资源。</p> <p><img alt height=15 src=../images/4.gif width=15>对于 CPU V4.2 版本以前的高速计数器，资源和功能请参见<a href=03-HSC_Archive.html>链接</a>。</p> <p><img alt src=../images/4.gif>{width="15" height="15"}有关编码器的相关知识请参考以下链接</p> <p><img alt height=15 src=../images/3.gif width=15> 按住 Shift 键时用鼠标点击下列链接，打开新浏览器窗口。</p> <p><a href=https://support.industry.siemens.com/cs/cn/zh/view/79192303><strong>https://support.industry.siemens.com/cs/cn/zh/view/79192303</strong></a></p> <h3 id=a>[]{#a}基础使用<a class=headerlink href=#a title="Permanent link">&para;</a></h3> <p>在 S7-1200 的硬件组态中，可以配置高速计数器的参数，其中组态成计数模式、频率模式、周期模式需要在这里配置，如图 1 所示。如果是用于闭环运动控制，则此处无需配置。</p> <p><img alt height=899 src=../images/01-01.png width=663></p> <p>图 1. 基础组态</p> <p>①激活高速计数器</p> <p>②设置计数类型：计数模式、频率模式、周期模式</p> <p>③设置运行模式：单相、两相位、A/B 计数器、A/B 计数器四倍频，值得注意的是组态 A/B 计数器四倍频会使得计数值变为组态 A/B 计数器的 4 倍，但频率相比组态 A/B 计数器不会发生变化</p> <p>④计数方向：取决于用户程序（通过指令修改），还是外部输入，该功能只与单相计数有关</p> <p>⑤初始计数方向：正向、反向</p> <p>⑥频率测量周期：与频率模式、周期模式有关，只能选择 1s、0.1s、0.01s，一般情况下当脉冲频率比较高时选择更小的测量周期可以更新的更加及时，当脉冲频率比较低时选择更大的测量周期可以测量的更准确。</p> <p>然后在设置使用的硬件输入点，如图 2 所示。</p> <p><img alt height=276 src=../images/01-02.png width=736></p> <p>图 2. 组态输入</p> <p><strong><img alt src=../images/4.gif>{width="15" height="15"}注意：对于高速计数器的相关硬件输入点，一般情况下需要设置其滤波时间，具体参见常见问题<a href=04-FAQ.html#a>链接</a>。</strong></p> <p>输入点接线与普通 DI 点接线相同，具体参考<a href=../../06-IO/02-DIDO/01-wiring.html>链接</a>。</p> <p>在 I/O 地址处查看高速计数器起始地址，默认情况下，HSC1 为 1000，HSC2 为 1004，HSC3 为 1008，HSC4 为 1012，HSC5 为 1016，HSC6 为 1020，如图 3 所示。</p> <p>如果组态计数模式、频率模式，可以在不使用指令情况下直接读取计数值与频率值。</p> <p><img alt height=371 src=../images/01-03.png width=734></p> <p>图 3. I/O 地址</p> <p>在程序中读取基于起始地址的有符号双整数变量即为计数值或者频率值（单位：Hz），一般使用立即读取方式，这样数值更准确，如图 4 所示。</p> <p><img alt height=77 src=../images/01-04.png width=557></p> <p>图 4. 编程</p> <p>如果组态为计数模式，则计数启动后，计数值使用组态中的初始计数值开始计数，如图 5 所示。</p> <p><img alt height=239 src=../images/01-05.png width=733></p> <p>图 5. 初始计数值</p> <p>当计数正方向达到上限后再继续从下限开始正方向计数，当计数反方向达到下限后再继续从上限开始反方向计数，参考图 5 下方红框设置的上下限。</p> <h3 id=e>[]{#e}指令编程<a class=headerlink href=#e title="Permanent link">&para;</a></h3> <h4 id=b>[]{#b}指令基本介绍<a class=headerlink href=#b title="Permanent link">&para;</a></h4> <p>在 TIA Portal 软件集成的工艺指令文件夹中可以找到 CTRL_HSC_EXT 与 CTRL_HSC 指令，如图 6 所示。</p> <p><img alt height=211 src=../images/01-06.png width=397></p> <p>图 6. 指令文件夹</p> <p>其中 CTRL_HSC_EXT 指令支持所有功能，例如门功能、同步功能、捕捉功能、计数、频率测量、周期测量、修改参数等。</p> <p>而 CTRL_HSC 指令是从 S7-1200 V1.0 版本就开始支持的旧指令，只支持修改计数方向、参考值、当前值、频率测量周期等参数的功能。</p> <p>如果只需要计数或者测量频率，以及硬件门、复位计数值为零、比较输出等基本功能，而其他功能都不使用，可以只组态，然后去读取相应计数器地址即可，无需调用指令。</p> <p>如果除基本功能以外，还需要修改计数方向、参考值、当前值、频率测量周期等参数，可以使用旧指令 CTRL_HSC，该指令使用更为简单。</p> <p>如果有更多功能需求，则必须使用 CTRL_HSC_EXT 指令。</p> <p>具体比较参考表 3。</p> <p>无指令调用 CTRL_HSC CTRL_HSC_EXT</p> <hr> <p>计数测量 直接读地址 直接读地址 支持 频率测量 直接读地址 直接读地址 支持 周期测量     支持 软件门     支持 硬件门 硬件操作 硬件操作 硬件操作 同步计数值到零 硬件操作 硬件操作 支持 同步计数值到零以外的值     支持 捕捉功能     支持 比较输出 硬件操作 硬件操作 硬件操作 修改当前计数值   支持 支持 外部修改计数方向 硬件操作 硬件操作 硬件操作 软件修改计数方向   支持 支持 修改参考值 1   支持 支持 修改频率更新周期   支持 支持 修改计数同步值     支持 修改参考值 2     支持 修改计数溢出限值     支持 修改计数溢出行为     支持 事件组态 支持 支持 支持</p> <p>表 3. 指令调用比较</p> <p>CTRL_HSC_EXT 与 CTRL_HSC 指令如图 6 所示。</p> <p><img alt height=253 src=../images/01-07.png width=645></p> <p>图 7. 指令</p> <p>CTRL_HSC_EXT 指令各参数含义请参考表 4。CTRL_HSC 指令各参数含义请参考表 5。</p> <p>参数</p> <p>声明</p> <p>数据类型</p> <p>描述</p> <p>HSC</p> <p>IN</p> <p>HW_HSC</p> <p>高速计数器硬件标识符</p> <p>CTRL</p> <p>IN_OUT</p> <p>Variant</p> <p>连接 HSC 参数，支持 HSC_Count、HSC_Frequency 和 HSC_Period 数据类型变量，具体使用参见后文介绍</p> <p>DONE</p> <p>OUT</p> <p>Bool</p> <p>=1 表示已完成</p> <p>BUSY</p> <p>OUT</p> <p>Bool</p> <p>始终为 0</p> <p>ERROR</p> <p>OUT</p> <p>Bool</p> <p>=1 表示错误</p> <p>STATUS</p> <p>OUT</p> <p>Word</p> <p>执行条件代码</p> <p>表 4. CTRL_HSC_EXT 各参数含义</p> <p>+-----------------+-----------------+-----------------+-----------------+ | 参数 | 声明 | 数据类型 | 描述 | +-----------------+-----------------+-----------------+-----------------+ | HSC | IN | HW_HSC | 高速计 | | | | | 数器硬件标识符 | +-----------------+-----------------+-----------------+-----------------+ | DIR | IN | Bool | T | | | | | rue：使能新方向 | +-----------------+-----------------+-----------------+-----------------+ | CV | IN | Bool | Tru | | | | | e：使能新起始值 | +-----------------+-----------------+-----------------+-----------------+ | RV | IN | Bool | Tru | | | | | e：使能新参考值 | +-----------------+-----------------+-----------------+-----------------+ | PERIODE | IN | Bool | True：使能 | | | | | 新频率测量周期 | +-----------------+-----------------+-----------------+-----------------+ | NEW_DIR | IN | Int | 新方向 | | | | | 1：=正向；-1 | | | | | ：=反向 | +-----------------+-----------------+-----------------+-----------------+ | NEW_CV | IN | DInt | 新高 | | | | | 速计数器起始值 | +-----------------+-----------------+-----------------+-----------------+ | NEW_RV | IN | DInt | 新高 | | | | | 速计数器参考值 | +-----------------+-----------------+-----------------+-----------------+ | NEW_PERIODE | IN | Int | 新高速 | | | | | 计数器频率测量 | | | | | 周期，只能是以 | | | | | 下三个数值之一 | | | | | | | | | | - 1000 = 1 秒 | | | | | - 100 = 0.1 | | | | | 秒 | | | | | - 10 = 0.01 | | | | | 秒 | +-----------------+-----------------+-----------------+-----------------+ | BUSY | OUT | Bool | 始终为 0 | +-----------------+-----------------+-----------------+-----------------+ | STATUS | OUT | Word | 执行条件代码 | +-----------------+-----------------+-----------------+-----------------+</p> <p>表 5. CTRL_HSC 各参数含义</p> <p>其中 HSC 参数高速计数器硬件标识符，需要在 PLC 变量表 &gt; 系统常量找到对应标识符，如图 8 所示。</p> <p><img alt height=520 src=../images/01-08.png width=605></p> <p>图 8. 硬件标识符</p> <h4 id=cctrl_hsc_ext->[]{#c}CTRL_HSC_EXT 指令-计数实现举例<a class=headerlink href=#cctrl_hsc_ext- title="Permanent link">&para;</a></h4> <p>1. CPU 硬件组态，启用高速计数器，计数类型选择计数，工作模式选择单相，如图 9 所示。</p> <p><img alt height=481 src=../images/01-09.png width=758></p> <p>图 9. 计数组态</p> <p>2. 建立数据块，并建立数据类型为 HSC_Count 的变量，如图 10 所示。</p> <p><img alt height=15 src=../images/4.gif width=15> HSC_Count 数据类型在 DB 块的数据类型中无法选择，需要完整输入后输入回车才会出现。</p> <p><img alt height=627 src=../images/01-10.png width=683></p> <p>图 10. HSC_Count</p> <p>3. 在 OB1 里调用指令块 CTRL_HSC_EXT，如图 11 所示。</p> <p><img alt height=215 src=../images/01-11.png width=447></p> <p>图 11. 调用 CTRL_HSC_EXT</p> <p>4. CPU 高速计数器通道接入脉冲信号，如图 12 所示，通过程序对高速计数器软件门信号 EnHSC 信号置位，即可在 CurrentCount 处监控到计数值。</p> <p><img alt height=632 src=../images/01-12.png width=516></p> <p>图 12. 监控计数值</p> <p><strong>注意：将 HSC 配置成计数模式时调用 CTRL_HSC/CTRL_HSC_EXT 指令不是必须的。只要在硬件配置里使能并组态高速计数器即可正常计数，默认情况下 ID1000 的值即为 HSC1 的计数值。</strong></p> <h4 id=fctrl_hsc_ext->[]{#f}CTRL_HSC_EXT 指令-频率测量实现举例<a class=headerlink href=#fctrl_hsc_ext- title="Permanent link">&para;</a></h4> <p>1. CPU 硬件组态，启用高速计数器，计数类型选择频率，设定频率测量周期，如图 13 所示。</p> <p><img alt height=492 src=../images/01-13.png width=774></p> <p>图 13. 频率组态</p> <p>2. 建立数据块，并建立数据类型为 HSC_Frequency 的变量，如图 14 所示。</p> <p><img alt height=15 src=../images/4.gif width=15> HSC_Frequency 数据类型在 DB 块的数据类型中无法选择，需要完整输入后输入回车才会出现。</p> <p><img alt height=98 src=../images/01-14.png width=393></p> <p>图 14. HSC_Frequency</p> <p>3. 在 OB1 里调用指令块 CTRL_HSC_EXT，如图 15 所示。</p> <p><img alt height=218 src=../images/01-15.png width=401></p> <p>图 15. 调用 CTRL_HSC_EXT</p> <p>4. CPU 高速计数器通道接入脉冲信号，如图 16 所示，通过程序对高速计数器软件门信号 EnHSC 信号置位，即可在 Frequency 处监控到频率值。</p> <p><img alt height=95 src=../images/01-16.png width=511></p> <p>图 16. 监控频率值</p> <p><strong>注意：将 HSC 配置成频率模式时调用 CTRL_HSC/CTRL_HSC_EXT 指令不是必须的。只要在硬件配置里使能并组态高速计数器即可正常计数，默认情况下 ID1000 的值即为 HSC1 的频率值。</strong></p> <h4 id=pctrl_hsc_ext->[]{#p}CTRL_HSC_EXT 指令-周期测量实现举例<a class=headerlink href=#pctrl_hsc_ext- title="Permanent link">&para;</a></h4> <p>1. CPU 硬件组态，启用高速计数器，计数类型选择周期，设定频率测量周期，如图 17 所示。</p> <p><img alt height=493 src=../images/01-17.png width=724></p> <p>图 17. 频率组态</p> <p>2. 建立数据块，并建立数据类型为 HSC_Period 的变量，如图 18 所示。</p> <p><img alt height=15 src=../images/4.gif width=15> HSC_Period 数据类型在 DB 块的数据类型中无法选择，需要完整输入后输入回车才会出现。</p> <p><img alt height=177 src=../images/01-18.png width=667></p> <p>图 18. HSC_Period</p> <p>3. 在 OB1 里调用指令块 CTRL_HSC_EXT，如图 19 所示。</p> <p><img alt height=168 src=../images/01-19.png width=379></p> <p>图 19. 调用 CTRL_HSC_EXT</p> <p>4. CPU 高速计数器通道接入脉冲信号，如图 20 所示，通过程序对高速计数器软件门信号 EnHSC 信号置位，可以在线监控数据块的数据变化。</p> <p><img alt height=177 src=../images/01-20.png width=603></p> <p>图 20. 监控数值</p> <p>根据周期计算公式，</p> <p>脉冲周期 = ElapsedTime/EdgeCount = 1000291000/1004 = 996305 ns ≈ 0.001 s</p> <p>由此可以得出所测量的脉冲信号周期为 0.001 秒。</p> <h3 id=o>[]{#o}其他功能<a class=headerlink href=#o title="Permanent link">&para;</a></h3> <p>高速计数器还支持其他功能，包括：</p> <ul> <li>门功能</li> <li>同步功能</li> <li>捕捉功能</li> <li>比较功能</li> <li>事件组态</li> <li>变量修改</li> </ul> <h4 id=_1>门功能<a class=headerlink href=#_1 title="Permanent link">&para;</a></h4> <p>许多应用需要根据其他事件的情况来开启或关闭计数程序。出现这类情况时，便会通过内部门功能来开启或关闭计数。每个高速计数器通道有两个门：软件门和硬件门。这些门的状态将决定内部门的状态参见表 6 所示。</p> <p>硬件门 软件门 内部门</p> <hr> <p>打开/未组态 打开/未编程 打开 打开/未组态 关闭 关闭 关闭 打开/未编程 关闭 关闭 关闭 关闭</p> <p>表 6. 内部门状态</p> <p>如果硬件门处于打开状态或尚未进行组态，并且软件门处于打开状态或没有编写 CTRL_HSC_EXT 指令，则内部门会打开。如果内部门打开，则开始计数。如果内部门关闭，则会忽略计数脉冲，且停止计数。如图 21 所示。</p> <p><strong><img alt src=../images/4.gif>{width="15" height="15"}注意：内部门关闭之后再打开，计数器将继续之前的数值计数，而并非从初始计数值开始计数。</strong></p> <p><img alt height=403 src=../images/01-21.png width=817></p> <p>图 21. 内部门与计数器值</p> <p>硬件门组态，如图 22 所示。</p> <p><img alt height=678 src=../images/01-22.png width=735></p> <p>图 22. 硬件门组态</p> <p>软件门编程</p> <p>当使用 CTRL_HSC_EXT 指令时，需要根据测量类型新建数据类型为 HSC_Count 、HSC_Frequency 或 HSC_Period 的变量连接在指令的 CTRL 接口，软件门即为该变量中的 EnHSC，如图 23 所示为 HSC_Count 的 EnHSC。HSC_Frequency 和 HSC_Period 的 EnHSC 请参考图 14 和 18。</p> <p><img alt height=422 src=../images/01-23.png width=487></p> <p>图 23. 软件门</p> <p><strong>注意：硬件门功能仅可用在组态计数模式的 HSC 时使用。在\"周期\"和\"频率\"模式下，内部门的状态与软件门的状态相同。</strong></p> <p><strong>软件门功能仅在使用 CTRL_HSC_EXT 指令时有效，当不使用该指令时相当于软件门已打开。</strong></p> <h4 id=s>[]{#s}同步功能<a class=headerlink href=#s title="Permanent link">&para;</a></h4> <p>同步功能通过外部输入信号给计数器设置为起始值。可通过执行 CTRL_HSC_EXT 指令对起始值进行更改。这样，用户可以将当前计数值与起始值通过外部输入信号进行值同步，同步示例如图 24 所示。</p> <p><img alt height=15 src=../images/3.gif width=15>该功能仅在计数模式下使用。</p> <p><strong><img alt src=../images/4.gif>{width="15" height="15"}注意：即使内部门没有打开也将同步。</strong></p> <p><img alt height=482 src=../images/01-24.png width=822></p> <p>图 24. 同步示例</p> <p>硬件组态，如图 25 所示。</p> <p><img alt height=599 src=../images/01-25.png width=736></p> <p>图 25. 同步输入组态</p> <p>软件部分，两种情况：</p> <p>1. 不调用 CTRL_HSC_EXT 指令</p> <p>此时同步信号电平满足组态条件，计数值将修改为 0 即初始计数值，但是无法修改该初始计数值。</p> <p>2. 调用 CTRL_HSC_EXT 指令</p> <p>需要新建数据类型为 HSC_Count 的变量连接在指令的 CTRL 接口，同步输入的使能 EnSync 需要置位，然后同步信号电平满足组态条件时就可以实现同步功能，计数值将修改为初始计数值，默认为 0。变量如图 26 所示。</p> <p><img alt height=626 src=../images/01-26.png width=395></p> <p>图 26. 同步使能信号</p> <p>如果需要修改初始计数值，使用 CTRL_HSC_EXT 可以通过将变量 EN_SV 置位，为变量 NewStartValue 赋值新的初始计数值，即修改了初始计数值。这样同步功能将计数值同步为新的初始计数值，变量如图 27 所示。</p> <p><img alt height=627 src=../images/01-27.png width=394></p> <p>图 27. 修改初始值</p> <p><strong>注意：CPU 启动后第一次计数时值为组态页面中的"初始计数器值"，参考图 5 上方红框。该"初始计数器值"仅用于此时，与同步功能无关。</strong></p> <h4 id=_2>捕捉功能<a class=headerlink href=#_2 title="Permanent link">&para;</a></h4> <p>可使用捕捉功能通过外部输入信号来保存当前计数值。需要通过执行 CTRL_HSC_EXT 指令才可实现。</p> <p><img alt height=15 src=../images/3.gif width=15>该功能仅在计数模式下使用。</p> <p>如图 28 所示组态捕捉功能在上升沿上进行捕捉的示例。</p> <p><img alt height=506 src=../images/01-28.png width=816></p> <p>图 28. 捕捉示例</p> <p>捕捉外部输入组态，如图 29 所示。</p> <p><img alt height=756 src=../images/01-29.png width=735></p> <p>图 29. 捕捉输入组态</p> <p>使用 CTRL_HSC_EXT 指令时，需要根据测量类型新建数据类型为 HSC_Count 连接在指令的 CTRL 接口，捕捉输入的使能 EnCapture 需要置位，然后捕捉信号电平满足组态条件时，当前计数值捕捉到变量 CapturedCount 即实现了捕捉功能，如图 30 所示。</p> <p><img alt height=625 src=../images/01-30.png width=394></p> <p>图 30. 捕捉位及捕捉值</p> <p><strong>注意： 必须调用 CTRL_HSC_EXT 指令获取捕捉计数值，在内部门关闭后捕捉功能仍然有效。输入点功能仅可用在组态计数模式的 HSC 时使用。</strong></p> <h4 id=_3>比较功能<a class=headerlink href=#_3 title="Permanent link">&para;</a></h4> <p>启用\"比较\"输出值功能会生成一个可组态脉冲，每次发生组态的事件时便会产生脉冲。如果正在输出脉冲期间又发生了组态的事件，则该事件不会产生新的脉冲。如图 31 所示比较功能的示例。</p> <p><img alt height=378 src=../images/01-31.png width=645></p> <p>图 31. 比较功能示例</p> <p>比较功能参考值组态，如图 32 所示。</p> <p><img alt height=240 src=../images/01-32.png width=736></p> <p>图 32. 参考值组态</p> <p>比较输出组态，如图 33 所示。</p> <p><img alt height=556 src=../images/01-33.png width=735></p> <p>图 33. 比较输出</p> <p><strong>注意：需要更改参考计数值除了更改组态外还可以通过 CTRL_HSC（只支持参考值 1） 与 CTRL_HSC_EXT 指令更改，如果需要由参考计数 1 改为参考计数 2，只能通过组态来更改</strong>。 <strong>输出功能仅可在组态计数模式时使用</strong>。</p> <h4 id=d>[]{#d}事件组态<a class=headerlink href=#d title="Permanent link">&para;</a></h4> <p>如果需要在高速计数器的某些情况下，迅速做出反应，可以使用高速计数器的事件功能，该功能将触发相应的硬件中断，在硬件中断中编写相关工艺程序实现迅速反应。</p> <p>S7-1200 高速计数器支持三种事件：</p> <ul> <li>计数值等于参考值 1（仅支持计数模式）</li> <li>同步事件（仅支持计数模式）</li> <li>方向信号改变（仅支持单相模式外部方向信号）</li> </ul> <p>如图 34 所示了组态页面。</p> <p><img alt height=529 src=../images/01-34.png width=737></p> <p>图 34. 事件组态</p> <p>使用哪一个事件则激活该事件以及对应硬件中断，然后在中断中编写程序，示例参见<a href=02-Sample.html>链接</a>。</p> <h4 id=m>[]{#m}修改参数<a class=headerlink href=#m title="Permanent link">&para;</a></h4> <p>如果要修改高速计数器的参数，例如修改当前计数值，必须使用指令才可以，CTRL_HSC_EXT 与 CTRL_HSC 指令支持修改的参数不同，具体参考表 7。</p> <p>CTRL_HSC CTRL_HSC_EXT</p> <hr> <p>修改当前计数值 支持 支持 软件修改计数方向 支持 支持 修改参考值 1 支持 支持 修改频率更新周期 支持 支持 修改计数同步值   支持 修改参考值 2   支持 修改计数溢出限值   支持 修改计数溢出行为   支持</p> <p>表 7. 参数修改比较</p> <p>对于 CTRL_HSC 指令，修改参数比较简单，直接在指令输入端控制即可。每个参数有值和控制位两个参数，对参数值进行修改，然后对控制位置位即可修改相关参数。</p> <p>如表 8 所示，前四个参数时控制位，后四个参数是前四个对应的参数值。以修改计数值为例，只需在 NEW_CV 赋值希望的修改的计数值，然后对 CV 置位即可修改完成，但是要注意如果 CV 一直是高电平，此时计数值会保持为修改的计数值无法计数，所以通常使用沿指令触发控制位。</p> <p>+-----------------------+-----------------------+-----------------------+ | 参数 | 数据类型 | 描述 | +-----------------------+-----------------------+-----------------------+ | DIR | Bool | True：使能新方向 | +-----------------------+-----------------------+-----------------------+ | CV | Bool | True：使能新起始值 | +-----------------------+-----------------------+-----------------------+ | RV | Bool | True：使能新参考值 1 | +-----------------------+-----------------------+-----------------------+ | PERIODE | Bool | Tru | | | | e：使能新频率测量周期 | +-----------------------+-----------------------+-----------------------+ | NEW_DIR | Int | 新方向 1：=正向；-1 | | | | ：=反向 | +-----------------------+-----------------------+-----------------------+ | NEW_CV | DInt | 新高速计数器起始值 | +-----------------------+-----------------------+-----------------------+ | NEW_RV | DInt | 新高速计数器参考值 1 | +-----------------------+-----------------------+-----------------------+ | NEW_PERIODE | Int | 新高速计 | | | | 数器频率测量周期，只 | | | | 能是以下三个数值之一 | | | | | | | | - 1000 = 1 秒 | | | | - 100 = 0.1 秒 | | | | - 10 = 0.01 秒 | +-----------------------+-----------------------+-----------------------+</p> <p>表 8. CTRL_HSC 指令修改参数</p> <p>对于 CTRL_HSC_EXT 指令，需要根据测量类型新建数据类型为 HSC_Count 、HSC_Frequency 或 HSC_Period 的变量连接在指令的 CTRL 接口，需要修改的参数就在这三个变量中。</p> <p>其中 HSC_Frequency 与 HSC_Period 只能修改频率更新周期，如图 35 所示。在 NewPeriod 中赋值新的频率更新周期，然后对 EnPeriod 置位即可修改完成，和前述相同，通常使用沿指令触发 EnPeriod 位。</p> <p>注意：该值只能修改为 1000（对应 1000ms）、100（对应 100ms）、10（对应 10ms）。</p> <p><img alt height=212 src=../images/01-35.png width=373></p> <p>图 35. 修改频率更新周期</p> <p>对于 HSC_Count，可以修改的参数很多，具体详见表 9。思路和上面的 NewPeriod 相同，在参数值处修改变量，然后对相关控制位进行置位，通常使用沿指令触发控制位。</p> <p>元素 数据类型 说明</p> <hr> <p>EnDir Bool 新计数方向 NewDirection 控制位 EnCV Bool 新当前计数值 NewCurrentCount 控制位 EnSV Bool 新同步起始值 NewStartValue 控制位 EnReference1 Bool 新参考值 1 NewReference1 控制位 EnReference2 Bool 新参考值 2 NewReference2 控制位 EnUpperLmt Bool 新计数上限值 NewUpperLimit 控制位 EnLowerLmt Bool 新计数下限值 New_Lower_Limit 控制位 EnOpMode Bool 新溢出行为 NewOpModeBehavior 控制位 EnLmtBehavior Bool 溢出时新计数值 NewLimitBehavior 控制位 EnSyncBehavior Bool 暂时不使用 NewDirection Int 新计数方向：1 = 加计数；-1 = 减计数 NewOpModeBehavior Int 新溢出行为：1 = 停止计数（内部门关闭打开才能继续计数）；2 = 继续计数 NewLimitBehavior Int 溢出时新计数值：1 = 计数相反方向限值；2 = 同步起始值（未修改时为 0 ，修改后为生效的 NewStartValue） NewSyncBehavior Int 暂时不使用 NewCurrentCount DInt 新当前计数值 NewStartValue DInt 新同步起始值 NewReference1 DInt 新参考值 1 NewReference2 DInt 新参考值 2 NewUpperLimit DInt 新计数上限值 New_Lower_Limit DInt 新计数下限值</p> <p>表 9. 修改 HSC_Count 参数</p> <p>具体修改实例可以参见<a href=02-Sample.html>链接</a>。</p> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2016 - 2024 FrankLin & lybhb8 </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/lybhb8 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://blowmoldingshare.cn/ target=_blank rel=noopener title=blowmoldingshare.cn class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M162.4 196c4.8-4.9 6.2-5.1 36.4-5.1 27.2 0 28.1.1 32.1 2.1 5.8 2.9 8.3 7 8.3 13.6 0 5.9-2.4 10-7.6 13.4-2.8 1.8-4.5 1.9-31.1 2.1-16.4.1-29.5-.2-31.5-.8-10.3-2.9-14.1-17.7-6.6-25.3zm61.4 94.5c-53.9 0-55.8.2-60.2 4.1-3.5 3.1-5.7 9.4-5.1 13.9.7 4.7 4.8 10.1 9.2 12 2.2 1 14.1 1.7 56.3 1.2l47.9-.6 9.2-1.5c9-5.1 10.5-17.4 3.1-24.4-5.3-4.7-5-4.7-60.4-4.7zm223.4 130.1c-3.5 28.4-23 50.4-51.1 57.5-7.2 1.8-9.7 1.9-172.9 1.8-157.8 0-165.9-.1-172-1.8-8.4-2.2-15.6-5.5-22.3-10-5.6-3.8-13.9-11.8-17-16.4-3.8-5.6-8.2-15.3-10-22C.1 423 0 420.3 0 256.3 0 93.2 0 89.7 1.8 82.6 8.1 57.9 27.7 39 53 33.4c7.3-1.6 332.1-1.9 340-.3 21.2 4.3 37.9 17.1 47.6 36.4 7.7 15.3 7-1.5 7.3 180.6.2 115.8 0 164.5-.7 170.5zm-85.4-185.2c-1.1-5-4.2-9.6-7.7-11.5-1.1-.6-8-1.3-15.5-1.7-12.4-.6-13.8-.8-17.8-3.1-6.2-3.6-7.9-7.6-8-18.3 0-20.4-8.5-39.4-25.3-56.5-12-12.2-25.3-20.5-40.6-25.1-3.6-1.1-11.8-1.5-39.2-1.8-42.9-.5-52.5.4-67.1 6.2-27 10.7-46.3 33.4-53.4 62.4-1.3 5.4-1.6 14.2-1.9 64.3-.4 62.8 0 72.1 4 84.5 9.7 30.7 37.1 53.4 64.6 58.4 9.2 1.7 122.2 2.1 133.7.5 20.1-2.7 35.9-10.8 50.7-25.9 10.7-10.9 17.4-22.8 21.8-38.5 3.2-10.9 2.9-88.4 1.7-93.9z"/></svg> </a> <a href="https://www.ad.siemens.com.cn/download/filter?productTypeId=1224" target=_blank rel=noopener title=www.ad.siemens.com.cn class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 320 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M99.1 105.4C79 114 68.2 127.2 65.2 144.8c-2.4 14.1-.7 23.2 2 29.4 2.8 6.3 7.9 12.4 16.7 18.6 19.2 13.4 48.3 22.1 84.9 32.5 1 .3 1.9.6 2.9.8 32.7 9.3 72 20.6 100.9 40.7 15.7 10.9 29.9 25.5 38.6 45.1 8.8 19.8 10.8 42 6.6 66.3-7.3 42.5-35.3 71.7-71.8 87.3-35.4 15.2-79.1 17.9-123.7 10.9h-.2c-24-3.9-62.7-17.1-87.6-25.6-4.8-1.7-9.2-3.1-12.8-4.3-16.6-5.7-25.6-23.8-20.1-40.6s23.7-25.8 40.5-20.3C47 387.2 52.3 389 58 391c25.4 8.6 56.4 19.2 74.4 22.1 36.8 5.7 67.5 2.5 88.5-6.5 20.1-8.6 30.8-21.8 33.9-39.4 2.4-14.1.7-23.2-2-29.4-2.8-6.3-7.9-12.4-16.7-18.6-19.2-13.4-48.3-22.1-84.9-32.5-1-.3-1.9-.6-2.9-.8-32.7-9.3-72-20.6-100.9-40.7-15.7-10.9-29.9-25.5-38.6-45.1-8.8-19.8-10.8-42-6.6-66.3l31.5 5.5-31.6-5.4c7.3-42.5 35.3-71.7 71.8-87.3 35.4-15.2 79.1-17.9 123.7-10.9 13 2 52.4 9.6 66.6 13.4 17.1 4.5 27.2 22.1 22.7 39.2s-22.1 27.2-39.2 22.7c-11.2-3-48.1-10.2-60.1-12l4.9-31.5-4.9 31.5c-36.9-5.8-67.5-2.5-88.6 6.5z"/></svg> </a> <a href=https://pypi.org/project/mkdocs-material/ target=_blank rel=noopener title=pypi.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.code.select", "content.footnote.tooltips", "content.tabs.link", "content.tooltips", "navigation.expand", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.prefetch", "navigation.path", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../../assets/javascripts/bundle.fe8b6f2b.min.js></script> <script src=../../../assets/javascripts/custom.058c863c.min.js></script> </body> </html>